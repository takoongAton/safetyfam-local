<!DOCTYPE html>
<html lang="ko">
	<head>
	<title>자녀안전지킴이</title>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover" />
	
	<!-- font -->
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=block" rel="stylesheet" />
	
	<!-- css -->
	<link rel="stylesheet" href="../../css/reset.css" />
	<link rel="stylesheet" href="../../css/safetyfam_app.css" />
	<!-- <link rel="stylesheet" href="../../css/Global.css" /> -->
	<link rel="stylesheet" href="../../css/slick.css" />
</head>
<body>

<div class="wrap">

	<div class="header_wrap">
		<div class="temp">
			<div class="util">
				<button type="button"><span><img src="../../images/common/ico_back.png" alt="이전"></span></button>
				<!-- <button type="button"><span><img src="../../images/common/ico_home.png" alt="홈"></span></button> -->
			</div>
			<h1><strong>긴급호출</strong></h1>
			<!-- <div class="tools">
				<button type="button"><span><img src="../../images/common/ico_noti.png" alt="알림"></span></button>
			</div> -->
		</div>
		<!-- // temp 삭제 -->
	</div>
	<!-- // header_wrap -->

	<div class="container_wrap">

		<section class="container">

			<div class="content_wrap divide">

				<div class="content_center">

					<div class="siren_wrap">
<style>
.siren_wrap div.graph_wrap {display:inline-block; position:relative; width:192px; height:192px; overflow:hidden; vertical-align:top;}
.siren_wrap div.graph_wrap .graph {position:relative; width:192px; height:192px; margin:0 auto;}
.siren_wrap div.graph_wrap .graph svg {position:absolute; top:0; left:0; transform:rotate(135deg); width:192px; height:192px;}
.siren_wrap div.graph_wrap .graph circle.bar {fill:none; stroke: url(#GradientColor); stroke-width:12px; stroke-dasharray:564; stroke-dashoffset: 564; animation: aniBar 0.5s ease-in forwards;}
.siren_wrap div.graph_wrap .graph circle.frame {fill:none; stroke: url(#GradientColor0); stroke-width:12px; stroke-dasharray:564; stroke-dashoffset: 141;}
.siren_wrap div.graph_wrap .graph div.dot {position:absolute; right:50%; top:50%; width:50%; z-index:10; transform:translateY(-50%) rotate(-45deg); transform-origin:100% 50%; animation: aniDot 0.5s ease-in forwards;}
.siren_wrap div.graph_wrap .graph div.dot span {display:block; position:absolute; top:50%; left:2px; width:8px; height:8px; background-color:#fff; border-radius:100%; transform:translateY(-50%);}
.siren_wrap div.graph_wrap .result {display:flex; flex-direction:column; justify-content:center; align-items:center; position:absolute; top:50%; left:50%; width:132px; height:132px; border-radius:100%; background-color:#fff; transform:translate(-50%,-50%); font-weight:500; box-shadow: inset 0 -2px 4px rgba(0, 0, 0, 0.16), 0 2px 4px rgba(0, 0, 0, 0.3);}
.siren_wrap div.graph_wrap .result div.current {color:#999; font-size:36px; line-height:54px; font-weight:500;}
.siren_wrap div.graph_wrap .result span.tit {display:inline-block; color:#999; font-size:14px; line-height:20px;}
/* .siren_wrap div.graph_wrap .result p {margin-top:1px; font-size:14px; line-height:16px;}
.siren_wrap div.graph_wrap .result p span {display:block;}
.siren_wrap div.graph_wrap .result p span:last-of-type {color:#000}
.siren_wrap div.graph_wrap .result p span:first-of-type {color:#999} */
						</style>
						<div class="graph_wrap">
							<div class="graph">
								<!-- <div class="dot">
									<span></span>
								</div> -->

								<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
									<defs>
										<linearGradient id="GradientColor0">
											<stop offset="0%" stop-color="#ddd" />
											<stop offset="45%" stop-color="#ddd" />
											<stop offset="100%" stop-color="#ddd" />
									   </linearGradient>
										<linearGradient id="GradientColor1" gradientTransform="rotate(-45)">
											<stop offset="0%" stop-color="#ED1E19" />
											<stop offset="50%" stop-color="#FD8800" />
											<stop offset="100%" stop-color="#FD8800" />
									   </linearGradient>
										<linearGradient id="GradientColor2" gradientTransform="rotate(-25)">
											<stop offset="0%" stop-color="#FFA421" />
											<stop offset="100%" stop-color="#FDE000" />
										</linearGradient>
										<linearGradient id="GradientColor3" gradientTransform="rotate(25)">
											<stop offset="0%" stop-color="#1EA82C" />
											<stop offset="60%" stop-color="#1EA82C" />
											<stop offset="100%" stop-color="#9CDE42" />
										</linearGradient>
									</defs>
									<circle cx="96" cy="96" r="90" stroke-linecap="round" class="frame" style="stroke: url(#GradientColor0);"/>
									<circle cx="96" cy="96" r="90" stroke-linecap="round" class="bar"/>
								</svg>
								작업중
								<!-- 
									stroke-dashoffset : 100점 == 141, 0점 == 564,
									1점 = 4.23
								-->
							</div>
							<!-- <div class="graph"><img src="../../images/temp/CircularProgressBar_caution.png" alt="주의 그래프"></div>
							<div class="graph"><img src="../../images/temp/CircularProgressBar_danger.png" alt="위험 그래프"></div> -->
							<div class="result">
								<!-- <span class="tit">보안점수</span> -->
								<div class="current">
									<strong class="c_safe">712</strong><!-- c_safe, c_caution, c_danger -->
								</div>
								<!-- <p>
									<span>지난 주 보다</span>
									<span>
										<strong>00</strong>
										점 높아요
									</span>
								</p> -->
							</div>
							<!-- // result -->
						</div>
						<!-- // graph_wrap -->

					</div>
					<!-- // siren_wrap -->

				</div>
				<!-- // content_mid -->

				<div class="content_btm">
					<div class="btm_btn">
						<div>
							<button type="button" class="btn_cancel"><span>취소</span></button>
							<!-- <button type="button" class="btn_next"><span>확인</span></button> -->
						</div>
					</div>
				</div>

			</div><!-- // content_wrap -->
			
		</section><!-- // container -->
		
	</div><!-- // container_wrap -->


</div><!-- // wrap -->






<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="../../js/slick.js"></script>
<script src="../../js/temp.js"></script>


<script>
$(document).ready(function(){
	/* gallery main */
	function guideSlick(){
		$('.guide_slick').slick({
			dots: true,
			dotsClass: "guide_slide_dot",
			infinite: true,
			arrows: false,
			// centerMode: true,
			// centerPadding : '18px'
		});
	}
	guideSlick();
})
/* 공지사항, 자주 묻는 질문 */
let noticeWrap = document.querySelector(".notice_arcodian_wrap")
if(noticeWrap) {
	let listItems = document.querySelectorAll(".list .item");
	listItems.forEach(function(item){
		item.addEventListener("click", function(){
			item.classList.toggle("active");
		})
	})
}
/* // 공지사항, 자주 묻는 질문 */





/* home, 주간 리포트 관련 circle graph (구현 샘플입니다. 수정 적용 부탁드립니다.) */
function mainGraphBar(num){
    let value = num;
    let graph_wrap = document.querySelector(".graph_wrap");
    let graph = graph_wrap.querySelector(".graph");
    let circumference = Math.PI * (graph.offsetWidth + 8);
    let circumferencePer = circumference / 100;

    if(graph) {
        let circle = graph.querySelector("circle.bar");
        if(value == null || value == undefined || value == 0 ) {
            return false;
        }
        if(value <= 70) {
            // value = 18;
            circle.style.stroke = "url(#GradientColor1)";
            graph_wrap.querySelector(".current strong").classList.add("c_danger");
        } else if(value <= 80) {
            // value = 62;
            circle.style.stroke = "url(#GradientColor2)";
            graph_wrap.querySelector(".current strong").classList.add("c_caution");
        } else if(value <= 90){
            // value = 91;
            circle.style.stroke = "url(#GradientColor3)";
            graph_wrap.querySelector(".current strong").classList.add("c_safe");
        } else if(value <= 100){
            // value = 100;
            circle.style.stroke = "url(#GradientColor3)";
            graph_wrap.querySelector(".current strong").classList.add("c_safe");
        } else {
            alert("엥?")
        }
        graph_wrap.querySelector(".current strong").innerHTML = value;
        
        let graphBar = (100 - value) * circumferencePer;
    
        const keyFrames = document.createElement("style");
        keyFrames.setAttribute("id", "test")
        keyFrames.innerHTML = `
        @keyframes aniBar {
            0% {
                stroke-dashoffset:${circumference}
            }
            100% {
                stroke-dashoffset:${graphBar};
            }
        }
        `;
        // circle.style.strokeDashoffset = graphBar;
        let body = document.querySelector("body")
        body.appendChild(keyFrames);
        console.log(graphBar, value)
    }
}
//mainGraphBar();


window.addEventListener("load", function(){
    mainGraphBar(91);
})
</script>

</body>
</html>